model Order {
  id              String        @id @default(cuid())
  order_no        String        @unique
  OrderItems      OrderItems[]
  userId          String
  User            User          @relation(fields: [userId], references: [id])
  cartId          String        @unique
  cart            Cart          @relation(fields: [cartId], references: [id])
  delivery_fee    Int
  tax             Int
  item_count      Int
  sub_total_price Int
  total_discount  Int
  total_price     Int
  total_weight    Int
  order_status    OrderStatus
  order_note      String?
  payment_method  PaymentMethod
  currency        Currency
  invoice         Invoice?
  created_at      DateTime      @default(now())
  updated_at      DateTime      @updatedAt
}

model OrderItems {
  id         String   @id @default(cuid())
  orderId    String
  Order      Order    @relation(fields: [orderId], references: [id])
  productId  String
  product    Product  @relation(fields: [productId], references: [id])
  quantity   Int      @default(1)
  price      Int
  created_at DateTime @default(now())
  updated_at DateTime @updatedAt
}

enum OrderStatus {
  pending
  confirmed
  shipped
  delivered
  cancelled
}
